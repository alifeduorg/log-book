<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Principal Logbook View</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
  <style>
    body {
      margin: 0;
      background-color: #001f3f; /* Navy blue */
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
    }
    .container {
      max-width: 95%;
      margin: 20px auto;
      background-color: #fff;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      padding: 20px;
      color: #000;
    }
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    .logo {
      height: 50px;
    }
    .dashboard-button {
      background-color: #ffcc00; /* Golden yellow */
      border: none;
      color: #000;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 2px 4px 10px rgba(0, 0, 0, 0.2);
    }
    .dashboard-button:hover {
      background-color: #ffd700;
    }
    table.dataTable thead th {
      position: sticky;
      top: 0;
      background-color: #f8f8f8;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="top-bar">
      <img src="1.png" alt="Alif Edu Logo" class="logo">
      <button class="dashboard-button" onclick="window.location.href='dashboard.html'">Go to Dashboard</button>
    </div>

    <table id="logbookTable" class="display nowrap" style="width:100%">
      <thead>
        <tr>
          <th>Timestamp</th>
          <th>Date</th>
          <th>Teacher's Name</th>
          <th>Staff ID</th>
          <th>Program</th>
          <th>Class</th>
          <th>Student Name</th>
          <th>Subjects</th>
          <th>Class In</th>
          <th>Class Duration</th>
          <th>What did you teach today?</th>
          <th>Student Engagement</th>
          <th>Homework or Tasks Given?</th>
          <th>What type of Work</th>
          <th>Class Notification Message</th>
          <th>Anything you'd like to share?</th>
        </tr>
      </thead>
    </table>
  </div>

  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script>
    const sheetURL = 'https://script.google.com/macros/s/AKfycby51sQL3xo9pIqc7WO6-gUCQhCpkL0JN-4HclaAWbjaRsDrUCD4gD7zc47PVSfn9A8jgA/exec'; // Replace this with your actual script URL

    fetch(sheetURL)
      .then(response => response.json())
      .then(data => {
        $('#logbookTable').DataTable({
          data: data,
          columns: [
            { data: 'Timestamp' },
            { data: 'Date' },
            { data: "Teacher's Name" },
            { data: 'Staff ID' },
            { data: 'Program' },
            { data: 'Class' },
            { data: 'Student Name' },
            { data: 'Subjects' },
            { data: 'Class In' },
            { data: 'Class Duration' },
            { data: 'What did you teach today?' },
            { data: 'Student Engagement' },
            { data: 'Homework or Tasks Given?' },
            { data: 'What type of Work' },
            { data: 'Upload Class Notification Message' },
            { data: "Anything you'd like to share?" }
          ],
          dom: 'Bfrtip',
          buttons: [
            {
              extend: 'pdfHtml5',
              text: 'Download PDF',
              orientation: 'landscape',
              pageSize: 'A3',
              className: 'dashboard-button',
              customize: function(doc) {
                doc.content.splice(0, 0, {
                  alignment: 'center',
                  image: 'https://i.ibb.co/ChXL9WL/alif-logo.png',
                  width: 100,
                  margin: [0, 0, 0, 20]
                });
                doc.styles.tableHeader.fontSize = 10;
                doc.defaultStyle.fontSize = 8;
              }
            }
          ]
        });
      });
  </script>
</body>
</html>
