<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teacher Timetable</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    /* Styles as per the previous design */
    /* Add your CSS code here as in previous examples */

    /* For better readability, add styles for the timetable grid */
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-center">Teacher's Weekly Timetable</h1>

    <div class="timetable" id="timetable"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Fetch timetable data from Google Sheets via Apps Script
      fetch('YOUR_GOOGLE_APPS_SCRIPT_URL') // Replace with the Apps Script URL you deployed
        .then(response => response.json())
        .then(data => {
          const timetableContainer = document.getElementById('timetable');
          const timetable = {};

          // Organize data into a structured format (by day)
          data.forEach(entry => {
            const { teacher, day, time, subject, room, comments } = entry;
            if (!timetable[day]) {
              timetable[day] = [];
            }
            timetable[day].push({ teacher, time, subject, room, comments });
          });

          // Dynamically generate the timetable HTML
          const daysOfWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];

          let timetableHTML = '';
          daysOfWeek.forEach(day => {
            timetableHTML += `<div class="timetable-header">${day}</div>`;
            if (timetable[day]) {
              timetable[day].forEach(classData => {
                timetableHTML += `
                  <div class="timetable-cell">
                    <div class="class-name">${classData.subject}</div>
                    <div class="class-time">${classData.time}</div>
                    <div class="class-teacher">Teacher: ${classData.teacher}</div>
                    <div class="room">Room: ${classData.room}</div>
                    <div class="comments">${classData.comments}</div>
                  </div>
                `;
              });
            } else {
              timetableHTML += `<div class="timetable-cell empty-cell">No classes</div>`;
            }
          });

          // Insert the timetable into the page
          timetableContainer.innerHTML = timetableHTML;
        })
        .catch(error => {
          console.error('Error fetching timetable data:', error);
        });
    });
  </script>
</body>
</html>
